<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>管理作业 · Tapdata Documentation</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;h2&gt;&lt;a class=&quot;anchor&quot; aria-hidden=&quot;true&quot; id=&quot;31仪表板&quot;&gt;&lt;/a&gt;&lt;a href=&quot;#31仪表板&quot; aria-hidden=&quot;true&quot; class=&quot;hash-link&quot;&gt;&lt;svg class=&quot;hash-link-icon&quot; aria-hidden=&quot;true&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;3.1仪表板&lt;/h2&gt;
"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="管理作业 · Tapdata Documentation"/><meta property="og:type" content="website"/><meta property="og:url" content="https://cloud.tapdata.io/v1/index.html"/><meta property="og:description" content="&lt;h2&gt;&lt;a class=&quot;anchor&quot; aria-hidden=&quot;true&quot; id=&quot;31仪表板&quot;&gt;&lt;/a&gt;&lt;a href=&quot;#31仪表板&quot; aria-hidden=&quot;true&quot; class=&quot;hash-link&quot;&gt;&lt;svg class=&quot;hash-link-icon&quot; aria-hidden=&quot;true&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;3.1仪表板&lt;/h2&gt;
"/><meta name="twitter:card" content="summary"/><link rel="shortcut icon" href="/v1/img/favicon.png"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><link rel="stylesheet" href="/v1/css/main.css"/></head><body class="sideNavVisible"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/v1/"><img class="logo" src="/v1/img/favicon/favicon.ico" alt="Tapdata Documentation"/><h2 class="headerTitleWithLogo">Tapdata Documentation</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="http://www.tapdata.io/" target="_self">Tapdata</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 class="postHeaderTitle">管理作业</h1></header><article><div><span><h2><a class="anchor" aria-hidden="true" id="31仪表板"></a><a href="#31仪表板" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3.1仪表板</h2>
<p>“仪表板”页面是启动Tapdata Replicate时打开的默认视图，如下图所示。它列出了您定义的所有复制作业。您可以使用此视图查看，编辑，运行和删除作业，或创建新作业。</p>
<p><img src="https://docs.tapdata.io/v1/assets/joblist.png" alt="alt-text"></p>
<p>默认情况下，它显示所有作业，包括运行的作业和已停止的作业。</p>
<p>要仅查看正在运行的作业，请单击工具栏中的“正在运行”。</p>
<p>要仅查看已停止的作业，请单击工具栏中的“已暂停”。</p>
<h2><a class="anchor" aria-hidden="true" id="32创建作业页面"></a><a href="#32创建作业页面" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3.2创建作业页面</h2>
<p>单击右上角的“创建”以创建新的复制作业。在作页面上，系统会要求您填写以下作业详细信息：</p>
<ul>
<li>输入作业名称</li>
<li>选择同步模式</li>
<li>选择源连接</li>
<li>定义模型映射(可选)</li>
<li>选择目标连接</li>
</ul>
<p><strong>作业名称</strong></p>
<p>输入作业描述</p>
<p><strong>选择同步模式</strong></p>
<p>选择要将表复制到NoSQL数据库的方式。目前支持两种选择：</p>
<ul>
<li>数据库克隆</li>
</ul>
<p>如果要将关系数据库按原样克隆到MongoDB，请选择此模式。例如，如果Oracle数据库中有10个表，那么在复制之后，MongoDB中将有10个完全相同的数据结构的集合。</p>
<ul>
<li>自定义</li>
</ul>
<p>如果要执行模型转换，请选择此选项，例如将多个表中的数据合并到一个JSON集合中。</p>
<p><strong>选择源连接</strong></p>
<p>选择源连接作为复制源。您可以在<a href="/v1/docs/page-connection-cn.html">管理连接</a>页面上创建或管理连接。</p>
<p><strong>编辑映射</strong></p>
<p>单击映射时，下面会出现一个映射编辑器窗口。映射窗口用于在视觉上帮助您创建JSON转换的关系表。有关映射的更多详细信息，请参见下面的“编辑映射”部分</p>
<p><strong>选择目标连接</strong></p>
<p>选择目标连接作为复制目标。您可以在<a href="/v1/docs/page-connection-cn.html">管理连接</a>页面上创建或管理连接。</p>
<h2><a class="anchor" aria-hidden="true" id="33-mapping-editor"></a><a href="#33-mapping-editor" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3.3 Mapping Editor</h2>
<p>映射编辑器水平分为3个窗格：属性窗格，源窗格和目标窗格。</p>
<p>初始化编辑器时，它将自动从关系数据库加载模式，并在“源”窗格中绘制ER图。当数据库中有许多表时，只显示前20个表。您可以使用“属性”窗格中的“表过滤器”来选择要在ER图窗格中显示的表。</p>
<p><img src="https://docs.tapdata.io/v1/assets/mapping-1.png" alt="alt-text"></p>
<p><strong>放大/缩小</strong></p>
<p>使用此选项可放大/缩小映射窗口</p>
<p><strong>全屏</strong></p>
<p>单击此按钮进入全屏模式</p>
<p><strong>正常</strong></p>
<p>单击此按钮返回正常模式</p>
<p><strong>预习</strong></p>
<p>在目标数据库中预览JSON数据结构</p>
<p><strong>显示ER关系</strong></p>
<p>是否在ER digram区域显示关系线。</p>
<p><strong>隐藏字段</strong></p>
<p>隐藏表列 - 当表包含太多列以使屏幕变得拥挤时，这很有用。</p>
<h3><a class="anchor" aria-hidden="true" id="34定义映射规则"></a><a href="#34定义映射规则" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3.4定义映射规则</h3>
<p>要定义要收集的表(Relational to JSON)映射，请按照下列步骤操作：</p>
<ul>
<li>拖动要从中复制数据的表</li>
<li>移动到目标窗格中的空白区域。</li>
<li>释放鼠标。</li>
<li>将自动创建具有相同名称的集合。</li>
<li>也会自动创建映射线，将源窗格中的表连接到目标窗格中的新集合。</li>
<li>单击该行以自定义映射规则属性。</li>
</ul>
<p><img src="https://docs.tapdata.io/v1/assets/mapping-2.png" alt="alt-text"></p>
<p>如何定义规则属性</p>
<p><strong>名称</strong></p>
<p>这是规则的描述性名称</p>
<p><strong>映射类型</strong></p>
<p>在这里，您可以选择以下三个值之一：Merged Object，Sub document和Array。</p>
<ul>
<li>合并对象</li>
</ul>
<p>用于简单的一对一映射。该集合将镜像表结构。</p>
<ul>
<li>子文件</li>
</ul>
<p>表数据将作为子文档嵌入到JSON中</p>
<ul>
<li>数组</li>
</ul>
<p>表数据将作为子数组嵌入JSON中。表中的每一行都将成为嵌入数组中的一个元素。</p>
<p>数组可用于建模1：N关系，例如，订单可能有多个订单行项目。</p>
<p><strong>独特的钥匙</strong></p>
<p>指定标识表中每行的唯一键。在大多数情况下，这与关系表中的主键列相同。 Tapdata需要此信息才能在目标集合中查找相应的JSON以执行更新操作。</p>
<p>您应该提供唯一键，否则Tapdata可能会将所有列用作唯一键。使用所有列都会影响性能。</p>
<p><strong>数组匹配键</strong></p>
<p>仅当您选择“数组”作为映射类型时，此选项才适用。当源表发生更改时，Tapdata需要在目标JSON集合中的数组中执行相关更新。数组匹配键将用于标识要更新的相应数组元素。</p>
<p><strong>目标路径</strong></p>
<p>您可以选择指定嵌入的字段路径名称。默认情况下，它使用表名</p>
<h3><a class="anchor" aria-hidden="true" id="35自定义表属性"></a><a href="#35自定义表属性" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3.5自定义表属性</h3>
<p>您可以单击任何表来自定义与此表相关的某些复制属性。</p>
<p><img src="https://docs.tapdata.io/v1/assets/mapping-2.png" alt="alt-text"></p>
<p><strong>名称</strong></p>
<p>仅供参考。</p>
<p><strong>描述</strong></p>
<p>表格描述，仅供参考。</p>
<p><strong>自定义Sql</strong></p>
<p>使用此文本字段提供自定义sql以从表中加载初始数据。默认情况下，系统将使用以下SQL语句来加载初始数据：</p>
<pre><code class="hljs">SELECT * from TABLE_NAME
</code></pre>
<p>使用默认SQL时，系统不会跟踪加载进度。当作业停止然后重新启动时，它将从开始重新加载所有初始数据。</p>
<p>如果您想跟踪加载进度并能够在重新启动作业时从停止点恢复，则需要提供带偏移跟踪列的自定义sql。</p>
<p>对于具有“LAST_UPDATED_TIME”列的表，您可以使用此类型的列来实现偏移跟踪目的。例如，您可以提供自定义SQL，如下所示：</p>
<pre><code class="hljs">SELECT * FROM ORDERS WHERE LAST_UPDATED_TIME &gt; TO_DATE('${OFFSET1}');
</code></pre>
<p>注意使用<strong>${OFFSET1}</strong>。这是一个占位符，将被指定的“偏移”值替换(在下面的字段中提供)。目前仅支持1个偏移列。将来可能支持多个偏移列。因此后缀号码。</p>
<p><strong>偏移</strong></p>
<p>使用自定义sql进行偏移跟踪时，必须提供初始偏移值。例如，如果将LAST_UPDATED_TIME用作偏移列，则可以提供此列的字符串值，例如：</p>
<pre><code class="hljs">2018-01-01 12:00:00
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="36作业属性"></a><a href="#36作业属性" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3.6作业属性</h3>
<p>单击屏幕右上角的齿轮图标或单击图表中的任何空白区域时，将打开“作业属性”视图。</p>
<p><strong>同步类型</strong></p>
<p>初始同步：在此模式下，Tapdata只会从源数据库中读取当前数据。一旦读取所有数据并将其复制到目标系统，作业将停止。</p>
<p>CDC：在此模式下，Tapdata将不断读取和解析源数据库的事务日志文件，并将每个更改复制到目标系统。作业将继续运行，直到停止。</p>
<p>initial sync+cdc：在此模式下，Tapdata将首先执行初始同步。初始同步后，Tapdata将切换到CDC模式以继续将更改的操作从源复制到目标。</p>
<p><strong>同步点</strong></p>
<p>当同步类型是CDC时，您可以指定CDC操作应从哪个点开始读取数据。</p>
<p>起始：事务日志文件的开头。</p>
<p>当前：从作业开始的那一刻起。</p>
<p>同步时间：您可以手动指定开始同步的时间点。</p>
</span></div></article></div><div class="docs-prevnext"></div></div></div></div><footer class="nav-footer" id="footer"><section class="sitemap"></section></footer></div></body></html>